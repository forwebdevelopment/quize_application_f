<div class="filter-page">
  <aside class="filter-panel">
    <h2>Filter Quizzes</h2>

    <!-- Category -->
    <label>Category:</label>
    <select [(ngModel)]="filters.category" name="category" (ngModelChange)="onChangeCateory()">
        @for (item of Category; track $index) 
        {
          <option>{{item}}</option>
        }
      
    </select>

    <!-- Level -->

        @if (isTech) {
    <label>Level:</label>
    <select [(ngModel)]="filters.level" name="level">
      <option value="Beginar">Beginar</option>
      <option value="Intermediat">Intermediat</option>
      <option value="Advance">Advance</option>
    </select>
}
 

    <!-- Syllabus -->
     @if (filters.category!='Select Category') {
    <label>Syllabus:</label>
    <select [(ngModel)]="filters.syllabus" name="syllabus">
        @for (item of syllabus; track $index) {
           @if (item.cat==filters.category) {
           <option [value]="item.value">{{item.value}}</option>
           }
        }
    </select>
     }
    <!-- Timer -->
    <label>
      <input type="checkbox" [(ngModel)]="filters.useTimer" name="useTimer" />
      Enable Timer
    </label>

    <div *ngIf="filters.useTimer">
      <label>Time per question:</label>
      <input
        type="text"
        [(ngModel)]="filters.timePerQuestion"
        name="timePerQuestion"
        placeholder="e.g. 1 minute or 30 seconds"
      />
    </div>

    <button (click)="applyFilters()">Apply Filters</button>
  </aside>

  <section class="quiz-results">
    <h3>Filtered Quizzes</h3>
    <div *ngFor="let quiz of filteredQuizzes" class="quiz-card" routerLink="/quiz_start">
      <h4>{{ quiz.title }}</h4>
      <p>Category: {{ quiz.category }}</p>
      <p>Level: {{ quiz.level }}</p>
      <p>Syllabus: {{ quiz.syllabus.join(', ') }}</p>
      <p *ngIf="filters.useTimer">Timer: {{ filters.timePerQuestion }}</p>
    </div>
  </section>
</div>